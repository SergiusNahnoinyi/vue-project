"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[29],{5829:function(e,t,n){n.d(t,{zp:function(){return p},Tm:function(){return k},JM:function(){return F},yB:function(){return T},cO:function(){return G}});var a=n(3396),r=n(9242);const s=(0,a.Uk)("Submit");function i(e,t,n,i,o,c){const l=(0,a.up)("CustomSelect"),m=(0,a.up)("CustomInput"),u=(0,a.up)("Button");return(0,a.wg)(),(0,a.iD)("form",{class:"form",onSubmit:t[2]||(t[2]=(0,r.iM)(((...e)=>c.handleSubmit&&c.handleSubmit(...e)),["prevent"]))},[(0,a.Wm)(l,{items:c.cities,city:o.city,"onUpdate:city":t[0]||(t[0]=e=>o.city=e),class:"form__select"},null,8,["items","city"]),(0,a.Wm)(m,{value:o.price,"onUpdate:value":t[1]||(t[1]=e=>o.price=e),placeholder:"Price from",class:"form__input","error-message":"Should not be empty",rules:c.rules},null,8,["value","rules"]),(0,a.Wm)(u,{type:"submit",class:"form__submit"},{default:(0,a.w5)((()=>[s])),_:1})],32)}var o=n(4034),c=n(5561),l={components:{CustomSelect:c.AP,CustomInput:c.t7,Button:c.zx},data(){return{price:"",city:""}},computed:{rules(){return[o.q9,(0,o.F8)(10)]},cities(){return[{value:"",label:"City",selected:!0},"Kyiv","Odesa","Poltava","Kharkiv","Dnipro","Lviv","Kherson","Mariupol"]}},emits:["submit"],methods:{handleSubmit(){this.$emit("submit",{city:this.city,price:this.price})}}},m=n(89);const u=(0,m.Z)(l,[["render",i],["__scopeId","data-v-743413f5"]]);var p=u,d=n(7139);const v={class:"apartments-info"},w={class:"apartments-info__heading"},_={class:"apartments-info__title"},g=["src","alt","title"],h={class:"apartments-info__description"},f={class:"apartments-info__btn"},y=(0,a.Uk)("Book");function b(e,t,n,r,s,i){const o=(0,a.up)("StarRating"),c=(0,a.up)("Button");return(0,a.wg)(),(0,a.iD)("article",v,[(0,a._)("div",w,[(0,a._)("h1",_,(0,d.zw)(n.apartment.title),1),(0,a.Wm)(o,{rating:n.apartment.rating},null,8,["rating"])]),(0,a._)("img",{src:n.apartment.imgUrl,alt:n.apartment.title,title:n.apartment.title,class:"apartments-info__photo"},null,8,g),(0,a._)("p",h,(0,d.zw)(n.apartment.descr),1),(0,a._)("div",f,[(0,a.Wm)(c,{onClick:i.handleApartmentsBooking,loading:s.loading},{default:(0,a.w5)((()=>[y])),_:1},8,["onClick","loading"])])])}var C=n(674),A={name:"ApartmentsMain",components:{StarRating:c.ZF,Button:c.zx},props:{apartment:{type:Object,required:!0}},data(){return{loading:!1}},methods:{async handleApartmentsBooking(){const e={apartmentId:this.$route.params.id,date:Date.now()};try{this.loading=!0,await(0,C.MQ)(e)}catch(t){console.error(t)}finally{this.loading=!1,this.$notify({type:"success",title:"Success",text:"You have successfully booked an apartment"})}}}};const R=(0,m.Z)(A,[["render",b],["__scopeId","data-v-1399a7ef"]]);var k=R;const I={class:"apartments-item"},S={class:"apartments-item__inner"},Z=["src"],z={class:"apartments-item__content"},D={class:"apartments-item__description"},W={class:"apartments-item__rating"},L={class:"apartments-item__price"};function O(e,t,n,r,s,i){const o=(0,a.up)("StarRating"),c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",I,[(0,a._)("div",S,[(0,a._)("img",{src:n.imgSrc,alt:"",class:"apartments-item__photo"},null,8,Z),(0,a._)("div",z,[(0,a._)("p",D,(0,d.zw)(n.descr),1),(0,a._)("div",W,[(0,a.Wm)(o,{rating:n.rating},null,8,["rating"])]),(0,a._)("div",L,"UAH "+(0,d.zw)(n.price),1),(0,a.Wm)(c,{to:{name:"ApartmentsPage",params:{id:n.id}},class:"apartments-item__link"},null,8,["to"])])])])}var q={name:"ApartmentsItem",components:{StarRating:c.ZF},props:{id:{type:String,required:!0},descr:{type:String,default:""},rating:{type:Number,default:0},price:{type:Number,required:!0},imgSrc:{type:String,default:""}}};const x=(0,m.Z)(q,[["render",O],["__scopeId","data-v-5d14bb10"]]);var F=x;const B={class:"apartments-list"};function P(e,t,n,r,s,i){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.WI)(e.$slots,"title",{},void 0,!0),(0,a._)("div",B,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.items,(t=>(0,a.WI)(e.$slots,"apartment",{apartment:t},void 0,!0))),256))])],64)}var j={name:"ApartmentsList",props:{items:{type:Array,default:()=>[]}}};const H=(0,m.Z)(j,[["render",P],["__scopeId","data-v-d460fab6"]]);var T=H;const $=e=>((0,a.dD)("data-v-7bc06c7c"),e=e(),(0,a.Cn)(),e),M={class:"apartments-owner"},U=$((()=>(0,a._)("h2",{class:"apartments-owner__title"},"Owner's info:",-1))),K={class:"apartments-owner__name"},Y={class:"apartments-owner__phone"},N={class:"apartments-owner__email"};function E(e,t,n,r,s,i){return(0,a.wg)(),(0,a.iD)("section",M,[U,(0,a._)("p",K,"Name: "+(0,d.zw)(n.owner.name),1),(0,a._)("p",Y,"Tel: "+(0,d.zw)(n.owner.phone),1),(0,a._)("p",N,"Email: "+(0,d.zw)(n.owner.email),1)])}var J={name:"ApartmentsOwner",props:{owner:{type:Object,required:!0}}};const Q=(0,m.Z)(J,[["render",E],["__scopeId","data-v-7bc06c7c"]]);var G=Q},4034:function(e,t,n){n.d(t,{D6:function(){return s},F8:function(){return r},aO:function(){return i},q9:function(){return a}});const a=e=>({hasPassed:!!e,message:"Fill in this field, please"}),r=e=>t=>({hasPassed:t.length<=e,message:"The char limit has been exceeded"}),s=e=>({hasPassed:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(e),message:"The email is wrong"}),i=e=>({hasPassed:/^(?=.*[A-Za-z])(?=.*[\d])[a-zA-Z0-9]{7,256}$/.test(e),message:"The password must contain one number and one symbol"})},9029:function(e,t,n){n.r(t),n.d(t,{default:function(){return U}});var a=n(3396);const r={class:"apartments-page__reviews"};function s(e,t,n,s,i,o){const c=(0,a.up)("ApartmentsInfo"),l=(0,a.up)("ApartmentsOwner"),m=(0,a.up)("ReviewsList"),u=(0,a.up)("Container");return i.apartment?((0,a.wg)(),(0,a.j4)(u,{key:0,class:"apartments-page"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{apartment:i.apartment},null,8,["apartment"]),(0,a._)("div",r,[(0,a.Wm)(l,{owner:i.apartment.owner,class:"apartments-page__owner"},null,8,["owner"]),(0,a.Wm)(m,{reviews:o.reviews,apartment:i.apartment},null,8,["reviews","apartment"])])])),_:1})):(0,a.kq)("",!0)}var i=n(674),o=n(5561),c=n(5829),l=n(7139);const m={class:"reviews-heading"},u={class:"reviews-heading__content"},p={class:"reviews-heading__author"};function d(e,t,n,r,s,i){const o=(0,a.up)("Avatar");return(0,a.wg)(),(0,a.iD)("div",m,[(0,a.Wm)(o,{class:"reviews-heading__avatar"}),(0,a._)("div",u,[(0,a._)("span",p,(0,l.zw)(n.author),1)])])}const v={width:"34",height:"34",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},w=(0,a._)("circle",{cx:"17",cy:"17",r:"17",fill:"white"},null,-1),_=(0,a._)("circle",{cx:"17",cy:"17",r:"16",fill:"white",stroke:"#FF662D","stroke-width":"2"},null,-1),g=(0,a._)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.8053 28.8444L4.83307 28.8028C7.04004 25.4919 10.7338 23.5156 14.712 23.5156H19.2878C23.2661 23.5156 26.9599 25.4919 29.1669 28.8028L29.1946 28.8445C32.1687 25.783 34 21.6054 34 17C34 7.61115 26.3889 0 17 0C7.61115 0 0 7.61115 0 17C0 21.6053 1.83124 25.783 4.8053 28.8444ZM16.9999 7C12.9288 7 9.61713 10.3117 9.61713 14.3828C9.61713 18.4539 12.9288 21.7656 16.9999 21.7656C21.071 21.7656 24.3828 18.4539 24.3828 14.3828C24.3828 10.3117 21.071 7 16.9999 7Z",fill:"#FF662D"},null,-1),h=[w,_,g];function f(e,t,n,r,s,i){return(0,a.wg)(),(0,a.iD)("svg",v,h)}var y={name:"ReviewsAvatar"},b=n(89);const C=(0,b.Z)(y,[["render",f]]);var A=C,R={name:"ReviewsHeading",components:{Avatar:A},props:{author:{type:String,required:!0}}};const k=(0,b.Z)(R,[["render",d],["__scopeId","data-v-ef278a2e"]]);var I=k;const S=e=>((0,a.dD)("data-v-0ed78b84"),e=e(),(0,a.Cn)(),e),Z={class:"reviews"},z={class:"reviews__heading"},D=S((()=>(0,a._)("h2",{class:"reviews__title"},"Overall rating",-1))),W={class:"reviews__rating"};function L(e,t,n,r,s,i){const o=(0,a.up)("StarRating"),c=(0,a.up)("ReviewsItem");return(0,a.wg)(),(0,a.iD)("section",Z,[(0,a._)("div",z,[D,(0,a._)("div",W,[(0,a._)("span",null,(0,l.zw)(i.reviewsCount)+" review(s)",1),(0,a.Wm)(o,{rating:i.totalRating},null,8,["rating"])])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.currentReviews,(e=>((0,a.wg)(),(0,a.j4)(c,{key:e.id,review:e},null,8,["review"])))),128)),(0,a._)("button",{class:"reviews__show-more",onClick:t[0]||(t[0]=(...e)=>i.toggleReviews&&i.toggleReviews(...e))},(0,l.zw)(i.buttonText),1)])}const O={class:"reviews-item"},q={class:"reviews-item__comment"};function x(e,t,n,r,s,i){const o=(0,a.up)("ReviewsHeading");return(0,a.wg)(),(0,a.iD)("section",O,[(0,a.Wm)(o,{rating:n.review.rating,author:n.review.author},null,8,["rating","author"]),(0,a._)("p",q,(0,l.zw)(n.review.content),1)])}var F={name:"ReviewsItem",components:{ReviewsHeading:I},props:{review:{type:Object,required:!0}}};const B=(0,b.Z)(F,[["render",x],["__scopeId","data-v-50f8406b"]]);var P=B,j={name:"ReviewsList",components:{ReviewsItem:P,StarRating:o.ZF},props:{reviews:{type:Array,required:!0},apartment:{type:Object,required:!0}},data(){return{reviewsLimit:2}},computed:{reviewsCount(){return this.reviews.length},totalRating(){return this.apartment.rating},currentReviews(){return this.reviews.slice(0,this.reviewsLimit)},buttonText(){return this.reviews.length===this.reviewsLimit?"Collapse":"Read more..."}},methods:{toggleReviews(){this.reviewsLimit===this.reviews.length?this.reviewsLimit=2:this.reviewsLimit=this.reviews.length}}};const H=(0,b.Z)(j,[["render",L],["__scopeId","data-v-0ed78b84"]]);var T=H,$={name:"ApartmentsPage",components:{Container:o.W2,ApartmentsInfo:c.Tm,ApartmentsOwner:c.cO,ReviewsList:T},data(){return{apartment:null}},computed:{reviews(){return this.apartment.reviews}},async created(){try{const{id:e}=this.$route.params,{data:t}=await(0,i.I4)(e);this.apartment=t}catch(e){console.error(e)}}};const M=(0,b.Z)($,[["render",s],["__scopeId","data-v-bf88c0cc"]]);var U=M}}]);
//# sourceMappingURL=29.3723bb0c.js.map