"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[396],{5829:function(t,e,n){n.d(e,{zp:function(){return u},Tm:function(){return z},JM:function(){return O},yB:function(){return T},cO:function(){return G}});var r=n(3396),a=n(9242);const i=(0,r.Uk)("Submit");function s(t,e,n,s,c,o){const l=(0,r.up)("CustomSelect"),m=(0,r.up)("CustomInput"),p=(0,r.up)("Button");return(0,r.wg)(),(0,r.iD)("form",{class:"form",onSubmit:e[2]||(e[2]=(0,a.iM)(((...t)=>o.handleSubmit&&o.handleSubmit(...t)),["prevent"]))},[(0,r.Wm)(l,{items:o.cities,city:c.city,"onUpdate:city":e[0]||(e[0]=t=>c.city=t),class:"form__select"},null,8,["items","city"]),(0,r.Wm)(m,{value:c.price,"onUpdate:value":e[1]||(e[1]=t=>c.price=t),placeholder:"Price from",class:"form__input","error-message":"Should not be empty",rules:o.rules},null,8,["value","rules"]),(0,r.Wm)(p,{type:"submit",class:"form__submit"},{default:(0,r.w5)((()=>[i])),_:1})],32)}var c=n(4034),o=n(5561),l={components:{CustomSelect:o.AP,CustomInput:o.t7,Button:o.zx},data(){return{price:"",city:""}},computed:{rules(){return[c.q9,(0,c.F8)(10)]},cities(){return[{value:"",label:"City",selected:!0},"Kyiv","Odesa","Poltava","Kharkiv","Dnipro","Lviv","Kherson","Mariupol"]}},emits:["submit"],methods:{handleSubmit(){this.$emit("submit",{city:this.city,price:this.price})}}},m=n(89);const p=(0,m.Z)(l,[["render",s],["__scopeId","data-v-743413f5"]]);var u=p,d=n(7139);const _={class:"apartments-info"},f={class:"apartments-info__heading"},g={class:"apartments-info__title"},h=["src","alt","title"],y={class:"apartments-info__description"},v={class:"apartments-info__btn"},w=(0,r.Uk)("Book");function b(t,e,n,a,i,s){const c=(0,r.up)("StarRating"),o=(0,r.up)("Button");return(0,r.wg)(),(0,r.iD)("article",_,[(0,r._)("div",f,[(0,r._)("h1",g,(0,d.zw)(n.apartment.title),1),(0,r.Wm)(c,{rating:n.apartment.rating},null,8,["rating"])]),(0,r._)("img",{src:n.apartment.imgUrl,alt:n.apartment.title,title:n.apartment.title,class:"apartments-info__photo"},null,8,h),(0,r._)("p",y,(0,d.zw)(n.apartment.descr),1),(0,r._)("div",v,[(0,r.Wm)(o,{onClick:s.handleApartmentsBooking,loading:i.loading},{default:(0,r.w5)((()=>[w])),_:1},8,["onClick","loading"])])])}var A=n(674),S={name:"ApartmentsMain",components:{StarRating:o.ZF,Button:o.zx},props:{apartment:{type:Object,required:!0}},data(){return{loading:!1}},methods:{async handleApartmentsBooking(){const t={apartmentId:this.$route.params.id,date:Date.now()};try{this.loading=!0,await(0,A.MQ)(t)}catch(e){console.error(e)}finally{this.loading=!1,this.$notify({type:"success",title:"Success",text:"You have successfully booked an apartment"})}}}};const k=(0,m.Z)(S,[["render",b],["__scopeId","data-v-1399a7ef"]]);var z=k;const C={class:"apartments-item"},B={class:"apartments-item__inner"},I=["src"],Z={class:"apartments-item__content"},D={class:"apartments-item__description"},W={class:"apartments-item__rating"},P={class:"apartments-item__price"};function U(t,e,n,a,i,s){const c=(0,r.up)("StarRating"),o=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",C,[(0,r._)("div",B,[(0,r._)("img",{src:n.imgSrc,alt:"",class:"apartments-item__photo"},null,8,I),(0,r._)("div",Z,[(0,r._)("p",D,(0,d.zw)(n.descr),1),(0,r._)("div",W,[(0,r.Wm)(c,{rating:n.rating},null,8,["rating"])]),(0,r._)("div",P,"UAH "+(0,d.zw)(n.price),1),(0,r.Wm)(o,{to:{name:"ApartmentsPage",params:{id:n.id}},class:"apartments-item__link"},null,8,["to"])])])])}var j={name:"ApartmentsItem",components:{StarRating:o.ZF},props:{id:{type:String,required:!0},descr:{type:String,default:""},rating:{type:Number,default:0},price:{type:Number,required:!0},imgSrc:{type:String,default:""}}};const F=(0,m.Z)(j,[["render",U],["__scopeId","data-v-5d14bb10"]]);var O=F;const $={class:"apartments-list"};function q(t,e,n,a,i,s){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.WI)(t.$slots,"title",{},void 0,!0),(0,r._)("div",$,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.items,(e=>(0,r.WI)(t.$slots,"apartment",{apartment:e},void 0,!0))),256))])],64)}var M={name:"ApartmentsList",props:{items:{type:Array,default:()=>[]}}};const N=(0,m.Z)(M,[["render",q],["__scopeId","data-v-d460fab6"]]);var T=N;const x=t=>((0,r.dD)("data-v-7bc06c7c"),t=t(),(0,r.Cn)(),t),K={class:"apartments-owner"},L=x((()=>(0,r._)("h2",{class:"apartments-owner__title"},"Owner's info:",-1))),R={class:"apartments-owner__name"},H={class:"apartments-owner__phone"},Y={class:"apartments-owner__email"};function J(t,e,n,a,i,s){return(0,r.wg)(),(0,r.iD)("section",K,[L,(0,r._)("p",R,"Name: "+(0,d.zw)(n.owner.name),1),(0,r._)("p",H,"Tel: "+(0,d.zw)(n.owner.phone),1),(0,r._)("p",Y,"Email: "+(0,d.zw)(n.owner.email),1)])}var E={name:"ApartmentsOwner",props:{owner:{type:Object,required:!0}}};const Q=(0,m.Z)(E,[["render",J],["__scopeId","data-v-7bc06c7c"]]);var G=Q},4034:function(t,e,n){n.d(e,{D6:function(){return i},F8:function(){return a},aO:function(){return s},q9:function(){return r}});const r=t=>({hasPassed:!!t,message:"Fill in this field, please"}),a=t=>e=>({hasPassed:e.length<=t,message:"The char limit has been exceeded"}),i=t=>({hasPassed:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(t),message:"The email is wrong"}),s=t=>({hasPassed:/^(?=.*[A-Za-z])(?=.*[\d])[a-zA-Z0-9]{7,256}$/.test(t),message:"The password must contain one number and one symbol"})},4396:function(t,e,n){n.r(e),n.d(e,{default:function(){return u}});var r=n(3396);const a={key:0};function i(t,e,n,i,s,c){const o=(0,r.up)("ApartmentsForm"),l=(0,r.up)("ApartmentsItem"),m=(0,r.up)("ApartmentsList"),p=(0,r.up)("Container");return(0,r.wg)(),(0,r.j4)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(o,{onSubmit:c.filter},null,8,["onSubmit"]),c.filteredApartments.length?((0,r.wg)(),(0,r.j4)(m,{key:1,items:c.filteredApartments},{apartment:(0,r.w5)((({apartment:t})=>[((0,r.wg)(),(0,r.j4)(l,{id:t.id,key:t.id,title:t.title,descr:t.descr,rating:t.rating,imgSrc:t.imgUrl,price:t.price},null,8,["id","title","descr","rating","imgSrc","price"]))])),_:1},8,["items"])):((0,r.wg)(),(0,r.iD)("p",a,"Nothing found"))])),_:1})}var s=n(674),c=n(5561),o=n(5829),l={name:"App",components:{Container:c.W2,ApartmentsForm:o.zp,ApartmentsList:o.yB,ApartmentsItem:o.JM},data(){return{apartments:[],filters:{city:"",price:0}}},computed:{filteredApartments(){return this.filterByCityName(this.filterByPrice(this.apartments))}},async created(){try{const{data:t}=await(0,s.UU)();this.apartments=t}catch(t){console.error(t)}},methods:{filter({city:t,price:e}){this.filters.city=t,this.filters.price=e},filterByCityName(t){return this.filters.city?t.filter((t=>t.location.city===this.filters.city)):t},filterByPrice(t){return this.filters.price?t.filter((t=>t.price>=this.filters.price)):t}}},m=n(89);const p=(0,m.Z)(l,[["render",i]]);var u=p}}]);
//# sourceMappingURL=396.40ce885d.js.map